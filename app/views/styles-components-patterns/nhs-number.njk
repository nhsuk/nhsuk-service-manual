{% set pageTitle = 'Ask users for their NHS number' %}
{% set pageSection = 'Styles, components and patterns' %}
{% set pageDescription = 'Use this pattern to ask people for their NHS number and help them find it.' %}

{% extends 'includes/layout.njk' %}

{% from 'action-link/macro.njk' import actionLink %}
{% from 'panel/macro.njk' import panel %}
{% from 'includes/design-example.njk' import designExample %}

{% block breadcrumb %}
{{ breadcrumb({
  items: [
    {
      href: "/service-manual/",
      text: "Home"
    }
  ],
  href: "/service-manual/styles-components-patterns",
  text: "Styles, components and patterns"
}) }}
{% endblock %}

{% block body %}
<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-two-thirds">
    <h1 class="nhsuk-u-margin-bottom-5">{{pageTitle}}</h1>
    <p class="nhsuk-body-l">{{pageDescription}}</p>

    <p>There are 3 ways of asking users for their NHS number:</p>
    <ul>
      <li>single text input</li>
      <li>filter question before input</li>
      <li>filter question before input with a 3rd option</li>
    </ul>

    <h2>When to use the NHS number pattern</h2>
    <p>Follow this pattern whenever you need to ask for an NHS number.</p>
    <p>Only ask for an NHS number if 1 of these applies:</p>
    <ul>
      <li>your service needs it</li>
      <li>the user is more likely to succeed on their journey if they can give you an NHS number</li>
    </ul>

    <h2>When not to use the NHS number pattern</h2>
    <p>If there's another way for users to get the service that is more likely to succeed than asking for an NHS number, do not use this pattern.</p>
    <p>Users do not need to know their NHS number to get care. This means that many people do not know their number.</p>

    <h2 id="single-text-input">Single text input</h2>
    <p>If the only way people can get the service is if they enter their NHS number, use a single <a href="/service-manual/styles-components-patterns/text-input">text input</a> by itself.</p>

  </div>
  <div class="nhsuk-grid-column-full">

    {{ designExample({
      type: 'nhs-number-single',
      fullpage: true
    }) }}

  </div>
  <div class="nhsuk-grid-column-two-thirds">

   <p>However, we recommend that you try to give users an alternative way to continue with their journey, using 1 of the other ways of asking for an NHS number on this page.</p>

   <p>If you use a single text input:</p>
   <ul>
      <li>label it "What is your NHS number?" or "Enter your NHS number"</li>
      <li>help users recognise their NHS number and know the correct details to enter, for example, with <a href="/service-manual/styles-components-patterns/hint-text">hint text</a></li>
      <li>tell users where they can find their NHS number as soon as possible, before they start the service as well as during the journey</li>
    </ul>

    <h2 id="filter-question-before-single-text">Filter question before single text input</h2>
    <p>Use a filter question before a single text input if there is another way for users to continue without an NHS number. (Read more about <a href="/service-manual/content/how-to-write-good-questions-for-forms/use-yes-no-questions-but-be-careful#what-are-filter-questions">filter questions</a> in the guidance on how to write good questions for forms.)</p>
    <p>Use a 2-option radio button that asks the user if they know their NHS number.</p>

  </div>
  <div class="nhsuk-grid-column-full">

    {{ designExample({
      type: 'nhs-number-filter',
      fullpage: true
    }) }}

  </div>
  <div class="nhsuk-grid-column-two-thirds">

    <p>If they do, route them to a page that asks for their NHS number.</p>

  </div>
  <div class="nhsuk-grid-column-full">

    {{ designExample({
      type: 'nhs-number-filter-single',
      fullpage: true
    }) }}

  </div>
  <div class="nhsuk-grid-column-two-thirds">

    <p>If they do not, route them to a page that asks for alternative details, for example, a combination of other personal details like their postcode and date of birth.</p>
    <p>On both route pages, help users find and recognise their NHS number, for example, using hint text.</p>

    <h2 id="filter-question-before-input-with-3rd-option">Filter question before input with 3rd option</h2>
    <p>You may want to give users a 3rd option that provides extra information about their NHS number and where to find it.</p>
    <p>Our research showed a 3rd option is often useful in discovery and alpha stages, even if you do not end up keeping it.</p>

  </div>
  <div class="nhsuk-grid-column-full">

    {{ designExample({
      type: 'nhs-number-filter-third-option',
      fullpage: true
    }) }}

  </div>
  <div class="nhsuk-grid-column-two-thirds">

    <h2>How to use the NHS number pattern</h2>
    <p>When asking for an NHS number:</p>
    <ul>
        <li>use a text input that allows for spaces and other characters between numbers, as users will type it in in different ways (for example, with dashes)</li>
        <li>allow at least 12 characters in your NHS number input</li>
        <li>check that the NHS number is valid by using a modulus 11 algorithm</li>
        <li class="rich-text">keep the NHS number on 1 line - do not allow it to break over 2 lines. If you use the NHS frontend library or prototype kit, use this HTML code to stop the number from breaking up over 2 lines: <code>&lt;span class="nhsuk-u-nowrap">123 456 7890&lt;/span></code>.</li>
        <li class="rich-text">add the <code>inputmode='numeric'</code> attribute to your input to let mobile users use a numeric keyboard on iOS devices and mobile Chrome</li>
        <li class="rich-text">add <code>meta name="format-detection" content="telephone=no"</code> to your page to stop iOS treating the NHS number as a phone number (but this means that iOS won't recognise any phone numbers on the page)</li>
    </ul>

    <h3>Explain where users can find their NHS number and what it looks like</h3>
    <p>Users are more likely to succeed in their journey the earlier you mention that they need an NHS number and where to find it.</p>
    <p>Give them help before they start the service, as well as within the service itself.</p>
    <p>For example:</p>

  </div>
  <div class="nhsuk-grid-column-full">

    {{ designExample({
      type: 'details'
    }) }}

  </div>
  <div class="nhsuk-grid-column-two-thirds">

    <h3>Use the correct NHS number format</h3>
    <p>Write the NHS number as 3 groups of numbers, with a single space between them, like this: 485 777 3456.</p>
    <p>Read more about how to format <a href='/service-manual/content/a-to-z-of-NHS-health-writing#nhs-number'>the NHS number</a> in the A to Z of NHS health writing.</p>

    <h3>Write clear error messages</h3>
    <p>Make sure you use clear <a href='/service-manual/styles-components-patterns/error-message'>error messages</a> and <a href='/service-manual/styles-components-patterns/error-summary'>error summaries</a> when you ask users for their NHS number.</p>

  </div>
  <div class="nhsuk-grid-column-full">

    {{ designExample({
      type: 'nhs-number-error',
      fullpage: true
    }) }}

  </div>
  <div class="nhsuk-grid-column-two-thirds">

    <p>You should tell users if:</p>
    <ul>
        <li>they have included letters</li>
        <li>they have entered a number that is too short or too long (not including spaces)</li>
    </ul>
    <p>You should check:</p>
    <ul>
        <li>if the user has entered a National Insurance number and tell them if they have</li>
        <li>their NHS number is valid against a modulus 11 algorithm</li>
    </ul>

    <h2>Research</h2>
    <p>Our research showed that:</p>
    <ul>
        <li>users did not always know what their NHS number looked like</li>
        <li>users did not know where to find their NHS number</li>
        <li>some users thought they were being asked for their National Insurance number</li>
        <li>users with access needs were more likely to know their NHS number because they deal with health and social care organisations more regularly</li>
        <li>telling users where to find their NHS number before and after starting the service, and as early as possible, meant users were more successful</li>
    </ul>

    <h2>Discuss</h2>
    <p><a href="https://github.com/nhsuk/nhsuk-service-manual-backlog/issues/109">Discuss NHS number pattern on GitHub</a></p>

    <h2>Get in touch</h2>
    <p>If you have a question:</p>
    <ul>
      <li>join the <a href="https://join.slack.com/t/nhs-service-manual/shared_invite/enQtNTIyOTEyNjU3NDkyLTk4NDQ3YzkwYzk1Njk5YjAxYTI5YTVkZmUxMGQ0ZjA3NjMyM2ZkNjBlMWMxODVjZjYzNzg1ZmU4MWY1NmE2YzE">NHS.UK service manual Slack workspace</a></li>
      <li>email <a href="mailto: service-manual@nhs.net">service-manual@nhs.net</a></li>
    </ul>

    <div class="nhsuk-review-date">
      <p class="nhsuk-body-s">Updated: October 2019</p>
    </div>

    {{ panel({
    "label": "Related components",
    "HTML": "<ul>
              <li><a href='/service-manual/styles-components-patterns/details'>Details</a></li>
              <li><a href='/service-manual/styles-components-patterns/error-message'>Error messages</a></li>
              <li><a href='/service-manual/styles-components-patterns/hint-text'>Hint text</a></li>
              <li><a href='/service-manual/styles-components-patterns/radios'>Radios</a></li>
              <li><a href='/service-manual/styles-components-patterns/text-input'>Text input</a></li>

            </ul>"
    }) }}

    </div>
  </div>
{% endblock %}
