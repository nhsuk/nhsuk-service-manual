{% extends "layouts/app-layout.njk" %}

{% set pageTitle = "Production code" %}
{% set pageDescription = "The code you need to start building user interfaces for NHS websites and services." %}
{% set pageSection = "Design system" %}
{% set subSection = "Design system" %}
{% set theme = "Setup" %}
{% set dateUpdated = "January 2020" %}

{% block beforeContent %}
  {% include "design-system/_breadcrumb.njk" %}
{% endblock %}

{% block bodyContent %}

  <h2 id="include-nhsuk-frontend-in-your-project">Include the NHS.UK frontend library in your project</h2>
  <p>To start using the NHS website styles, components and patterns contained here, you’ll need to include the NHS.UK frontend library in your project.</p>
  <p>There are 2 ways to do this. You can either install it using node package manager (npm) or include the compiled files in your application.</p>

  <h3 id="option-1-install-using-npm">Option 1: install using npm</h3>
  <p>We recommend <a href="https://github.com/nhsuk/nhsuk-frontend/blob/main/docs/installation/installing-with-npm.md">installing the NHS.UK frontend library using npm</a>.</p>
  <p>Using this option, you will be able to:</p>
  <ul>
    <li>selectively include the CSS or JavaScript for individual components</li>
    <li>build your own styles or components based on the palette or typography and spacing mixins</li>
    <li>customise the build (for example, overriding colours or enabling global styles)</li>
    <li>use the component Nunjucks templates</li>
  </ul>

  <h3 id="option-2-include-compiled-files">Option 2: include compiled files</h3>
  <p>If your project does not use npm, or if you want to try out the NHS.UK frontend library in your project without installing it through npm, you can <a href="https://github.com/nhsuk/nhsuk-frontend/blob/main/docs/installation/installing-compiled.md">download and include compiled stylesheets, JavaScript and the asset files</a>.</p>
  <p>Using this option, you will be able to include all the CSS and JavaScript of the NHS.UK frontend library in your project.</p>
  <p>You will not be able to:</p>
  <ul>
    <li>selectively include the CSS or JavaScript for individual components</li>
    <li>build your own styles or components based on the palette or typography and spacing mixins</li>
    <li>customise the build, for example, overriding colours or enabling global styles</li>
    <li>use the component Nunjucks templates</li>
  </ul>

  <h2 id="styling-page-elements">Styling page elements</h2>
  <p>The service manual provides CSS classes for styling content, instead of global styles.</p>
  <p>The class names follow the Block Element Modifier (BEM) naming convention. This can look a bit daunting at first, but it makes robust code that's easy to maintain.</p>
  <p>Explore the <a href="/design-system/styles/">Styles</a> section of the service manual to see what classes are available.</p>

  <h2 id="using-components">Using components</h2>
  <p>The <a href="/design-system/components/">components</a> in the service manual are designed to be accessible and responsive. There are 2 ways to implement them in your application.</p>
  <p>You can either use HTML or, if you're using Nunjucks with node.js and you installed the NHS.UK frontend library using npm, you can use a Nunjucks Macro.</p>
  <p>You can get the code from the HTML or Nunjucks tabs below the examples on our component pages, like this example of a button.</p>

  {{ designExample({
    group: "components",
    item: "buttons",
    type: "default"
  }) }}

  <h3 id="using-nunjucks-macros">Using Nunjucks macros</h3>
  <p>A Nunjucks macro is a simple template that generates more complex HTML.</p>
  <p>Nunjucks macros save you time by managing repetitive or error-prone tasks, like linking form labels to their controls.</p>
  <p>Nunjucks macros also make it easier to keep your application up to date. You can run a command to update component code instead of having to manually update your HTML.</p>

  <p>For example, to use the button macro, use the import statement:</p>

  <pre class="nhsuk-u-margin-top-0 nhsuk-u-margin-bottom-6"><code class="language-njk">{% raw %}{% <span class="hljs-keyword">from</span> <span class="hljs-string">"nhsuk/components/button/macro.njk"</span> <span class="hljs-keyword">import</span> button %}{% endraw %}</code></pre>

  <p>To use Nunjucks macros in your application, you’ll need to setup Nunjucks views to point to the location of NHS.UK frontend.

  <h4 class="nhsuk-u-margin-bottom-2">NHS.UK frontend v10.x (latest)</h4>
  <p>Configure Nunjucks search paths for <code>v10.x</code> versions and higher:</p>

  <pre class="nhsuk-u-margin-top-0 nhsuk-u-margin-bottom-6"><code class="language-js">nunjucks.<span class="hljs-title function_">configure</span>([
  <span class="hljs-string">'node_modules/nhsuk-frontend/dist/nhsuk/components'</span>,
  <span class="hljs-string">'node_modules/nhsuk-frontend/dist/nhsuk/macros'</span>,
  <span class="hljs-string">'node_modules/nhsuk-frontend/dist/nhsuk'</span>,
  <span class="hljs-string">'node_modules/nhsuk-frontend/dist'</span>
]);</code></pre>

  <h4 class="nhsuk-u-margin-bottom-2">NHS.UK frontend v9.x</h4>
  <p>Configure Nunjucks search paths for <code>v9.x</code> versions only:</p>

  <pre class="nhsuk-u-margin-top-0"><code class="language-js">nunjucks.<span class="hljs-title function_">configure</span>([
  <span class="hljs-string">'node_modules/nhsuk-frontend/packages/components'</span>,
  <span class="hljs-string">'node_modules/nhsuk-frontend/packages/macros'</span>
]);</code></pre>

  <div class="nhsuk-inset-text nhsuk-u-margin-top-5">
    <p>If you’re using Nunjucks macros in production, be aware that using  <code>html</code> arguments or ones ending with <code>html</code> can be a security risk. The <a href="https://mozilla.github.io/nunjucks/templating.html">Nunjucks templating documentation</a> has guidance on how to mitigate the risks.</p>
  </div>

  <h2>Keeping your code up to date</h2>
  <p>We update the NHS.UK frontend library from time to time. Check for recent releases in the <a href="https://github.com/nhsuk/nhsuk-frontend/blob/main/CHANGELOG.md">NHS.UK frontend changelog</a>.</p>

{% endblock %}
